<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="0">
        <!-- Configuracions (diferents configuracions)-->
        <record model="som.crawlers.config" id="demo_configuracio_1">
        <field name="name">anselmo</field>
        <field name="className">Anselmo</field>
        <field name="crawler">Selenium</field>
        <field name="days_of_margin">5</field>
        <field name="pending_files_only" eval="False"/>
        <field name="browser">firefox</field>
        <field name="user_ultima_modificacio" ref="base.user_admin"/>
        </record>
        <record model="som.crawlers.config" id="demo_configuracio_2">
        <field name="name">fenosa</field>
        <field name="className">Fenosa</field>
        <field name="crawler">Selenium</field>
        <field name="days_of_margin">3</field>
        <field name="pending_files_only" eval="False"/>
        <field name="browser">chrome</field>
        <field name="user_ultima_modificacio" ref="base.user_admin"/>
        </record>
        <!-- Exemple accions planificades-->
        <!-- Tasques generals-->
        <record model="som.crawlers.task" id="demo_accions_planificades_1">
        <field name="name">Anselmo descargar R1</field>
        <field name="active">True</field>
        <field name="configuracio_id" ref="demo_configuracio_1"/>
        </record>
        <record model="som.crawlers.task" id="demo_accions_planificades_2">
        <field name="name">Fenosa descargar F1 i ATR</field>
        <field name="active">True</field>
        <field name="configuracio_id" ref="demo_configuracio_2"/>
        </record>
        <!-- Passos de cada tasca general-->
        <record model="som.crawlers.task.step" id="demo_taskStep_3">
        <field name="name">Descarregar fitxers</field>
        <field name="sequence">1</field>
        <field name="function">download_files</field>
        <field name="params">{"nom_fitxer":"script_run_crawler.py"}</field>
        <field name="task_id" ref="demo_accions_planificades_2"/>
        </record>
        <record model="som.crawlers.task.step" id="demo_taskStep_4">
        <field name="name">Importar fitxers XML</field>
        <field name="sequence">2</field>
        <field name="function">import_xml_files</field>
        <field name="params">{}</field>
        <field name="task_id" ref="demo_accions_planificades_2"/>
        </record>
        <record model="som.crawlers.task.step" id="demo_taskStep_1">
        <field name="name">Descarregar fitxers</field>
        <field name="sequence">1</field>
        <field name="function">download_files</field>
        <field name="params">{"nom_fitxer":"script_run_crawler.py"}</field>
        <field name="task_id" ref="demo_accions_planificades_1"/>
        </record>
        <record model="som.crawlers.task.step" id="demo_taskStep_2">
        <field name="name">Importar fitxers XML</field>
        <field name="sequence">2</field>
        <field name="function">import_xml_files</field>
        <field name="params">{}</field>
        <field name="task_id" ref="demo_accions_planificades_1"/>
        </record>
        <record model="res.config" id="som_crawlers_massive_importer_python_path">
            <field name="name">som_crawlers_massive_importer_python_path</field>
            <field name="value">~/.virtualenvs/massive/bin/python</field>
            <field name="description">Conté la ruta de la versió de python que executarà Massive Importer</field>
        </record>
        <!-- Executar tasques a partir d'un cron -->
        <record id="ir_cron_run_tasks_action" model="ir.cron">
            <field name="name">Tasca programada</field>
            <field name="active" eval="True" />
            <field name="user_id" ref="base.user_root"/>
            <field eval="False" name="doall"/>
            <field eval="'wizard.executar.tasca'" name="model"/>
            <field eval="'executar_tasca_cron'" name="function"/>
            <field eval="'2022-08-18 12:15:00'" name="nextcall"/>
        </record>
    </data>
</openerp>
